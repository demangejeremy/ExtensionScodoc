function arrondiNombre(e){var o=Math.pow(10,2);return Math.round(e*o)/o}console.log("%cCALCUL DE MOYENNE","background: #000000; color: white"),console.log("%cBy @DemangeJeremy","background: #000000; color: white");var notes,totalEnCours,coeff,noteActuelle,division,matieres=document.querySelectorAll(".notes_bulletin_row_mod .colonne_module"),nbMatieres=$(".notes_bulletin_row_mod .colonne_module").length,moyenne=new Array,coeffMatiere=new Array,coeffUE=new Array,nbBalise=2,changementUE=0,baliseTR=document.querySelectorAll("tr"),baliseTD=baliseTR[2].querySelectorAll("td"),noteAnglais=baliseTD[1].innerHTML,etatFinal=!0,compteurBalise=2,comptageMatieres=0,classUE=document.querySelectorAll(".notes_bulletin_row_ue"),coeffUE1=classUE[0].querySelectorAll("td");coeffUE1=Number(coeffUE1[4].innerHTML);var coeffUE2=classUE[1].querySelectorAll("td");for(coeffUE2=Number(coeffUE2[4].innerHTML),console.log("Coefficient UE1 : "+coeffUE1),console.log("Coefficient UE2 : "+coeffUE2),console.log("////////////////////"),i=0;i<nbMatieres;i++){etatFinal=!0,console.log("Matière : "+noteAnglais),coeffMatiere[i]=baliseTD[3].innerHTML,console.log("Coefficient : "+coeffMatiere[i]),division=0,totalEnCours=.001;do{""==(noteAnglais=(baliseTD=baliseTR[++compteurBalise].querySelectorAll("td"))[1].innerHTML)?""==(noteAnglais=baliseTD[3].innerHTML)?changementUE=i:"EXC"==noteAnglais||"ATT"==noteAnglais||("ABS"==noteAnglais||"NP"==noteAnglais?(noteActuelle=0,noteAnglais=baliseTD[4].innerHTML,totalEnCours+=noteActuelle*(coeff=Number(noteAnglais)),division+=coeff,moyenne[i]=totalEnCours/division):(noteActuelle=Number(noteAnglais),noteAnglais=baliseTD[4].innerHTML,totalEnCours+=noteActuelle*(coeff=Number(noteAnglais)),division+=coeff,moyenne[i]=totalEnCours/division)):(etatFinal=!1,moyenne[i]=arrondiNombre(moyenne[i]),console.log("Moyenne : "+moyenne[i]),console.log("/////////"))}while(etatFinal)}var UE1=1e-4,totalCoeffUE1=1e-4;for(n=0;n<=changementUE;n++)isNaN(moyenne[n])&&(moyenne[n]=10),UE1+=moyenne[n]*coeffMatiere[n];UE1=arrondiNombre(UE1/coeffUE1),console.log("Moyenne UE1 : "+UE1);var UE2=1e-4;for(n=changementUE+1;n<nbMatieres;n++)isNaN(moyenne[n])&&(moyenne[n]=10),UE2+=moyenne[n]*coeffMatiere[n];UE2=arrondiNombre(UE2/coeffUE2),console.log("Moyenne UE2 : "+UE2);var moyenneGenerale=(UE1*coeffUE1+UE2*coeffUE2)/(coeffUE1+coeffUE2);console.log("Moyenne générale : "+arrondiNombre(moyenneGenerale)),console.log("%cBy @DemangeJeremy","background: #000000; color: white");